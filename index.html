<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Układ słoneczny</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- import the webpage's stylesheet -->
    <link rel="stylesheet" href="../style.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.2/css/all.min.css">


    <script>
      // WebXR requires HTTPS, so the site doesn't work if someone manually enters
      // the URL and ends up using HTTP. To work around this, force redirect from
      // http to https for non-localhost addresses.
      if (
        window.location.protocol == "http:" &&
        window.location.hostname != "localhost" &&
        window.location.hostname != "127.0.0.1" &&
        window.location.hostname != "[::1]"
      ) {
        window.location = window.location.href.replace("http:", "https:");
      }
    </script>

    <!-- import the webpage's javascript files -->
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://immersive-web.github.io/dom-overlays/"></script>

    <script src="../components/OrbitControls.js"></script>
    <script src="../components/Sun.js"></script>
    <script src="../components/Planet.js"></script>
    <script src="../components/Description.js"></script>

    <script src="script.js"></script>

                                                                                                       
  </head>
  <!-- clipboard raycaster="objects: .clickable;" cursor="rayOrigin: mouse"        -->
  <body>
    <a-scene color-space="sRGB" 
    renderer="colorManagement: true, physicallyCorrectLights: true; antialias: true; logarithmicDepthBuffer: false; sortObjects: true;"
    shadow="type: pcfsoft; autoUpdate: false;"
    light="defaultLightsEnabled: true"
    webxr="optionalFeatures: dom-overlay;
                overlayElement: #overlay;"
    >
      <a-assets timeout="30000">
        <a-asset-item
          id="sun-model"
          src="assets/sun1.glb" 
          crossorigin="anonymous"
        ></a-asset-item>
        <a-asset-item
          id="mercury-model"
          src="assets/mercury.glb" 
          crossorigin="anonymous"
        ></a-asset-item>
        <a-asset-item
          id="venus-model"
          src="assets/venus.glb" 
          crossorigin="anonymous"
        ></a-asset-item>
        <a-asset-item
          id="earth-model"
          src="assets/earth_with_clouds2.glb" 
          crossorigin="anonymous"
        ></a-asset-item>
        <a-asset-item
          id="mars-model"
          src="assets/mars.glb" 
          crossorigin="anonymous"
        ></a-asset-item>
        <a-asset-item
          id="jupiter-model"
          src="assets/jupiter.glb" 
          crossorigin="anonymous"
        ></a-asset-item>
        <a-asset-item
          id="saturn-model"
          src="assets/saturn.glb" 
          crossorigin="anonymous"
        ></a-asset-item>
        <a-asset-item
          id="uranus-model"
          src="assets/uranus.glb" 
          crossorigin="anonymous"
        ></a-asset-item>
        <a-asset-item
          id="neptune-model"
          src="assets/neptune.glb" 
          crossorigin="anonymous"
        ></a-asset-item>
        <img
            id="text-bg-texture"
            src="assets/text-bg-texture.png" 
            crossorigin="anonymous"
          />
          <img 
          id="sky-image" 
          src="assets/starmap_g4k.jpg" 
          crossorigin="anonymous"
        />
      </a-assets>
  
 <!-- Camera -->
 <a-entity id="camera" 
    camera 
    cursor="rayOrigin: mouse"
    raycaster="objects: .clickable;"
    orbit-controls="
          autoRotate: false;
          target: #camera_target;
          enableDamping: true;
          dampingFactor: 0.125;
          rotateSpeed:0.25;
          minDistance:3;
          maxDistance:20;"
    position="0 7.1 7.5"
  >
  <a-entity id= "cursor" 
  position="0 0 -.01" 
  scale="0.03 0.03 0.03"
  geometry="primitive: ring; radius-inner: 0.003; radius-outer: 0.005"
  material="color: #04FEFB; shader: flat"
  raycaster="objects: .clickable; enabled: false"
  visible="false"
  animation__click="property: scale; startEvents: click; easing: easeInCubic; dur: 150; from: 0.1 0.1 0.1; to: 0.03 0.03 0.03"
  animation__fusing="property: scale; startEvents: fusing; easing: easeInCubic; dur: 1500; from: 0.03 0.03 0.03; to: 0.001 0.001 0.001"
  animation__mouseleave="property: scale; startEvents: mouseleave; easing: easeInCubic; dur: 500; to: 0.03 0.03 0.03"
  ></a-entity>
</a-entity>

  <a-entity id="camera_target" position="0 0 0"></a-entity>

  <a-entity id="solar_system" ar-mode-setup>

    <!-- Default lighting injected by A-Frame. -->
    <a-entity light="type: point; color: #fdfbd3; intensity: 1; distance: 0; decay: 1.0" position="0 0 0"></a-entity>
    <a-entity light="type: ambient; color: #fdfbd3; intensity: 0.02"></a-entity>

  <a-entity id="sun" position="0 0 0" rotation="0 0 0">
        
        <a-entity
          id="Słońce"
          position="0 0 0"
          scale="0.05 0.05 0.05"
          gltf-model="#sun-model"
          sun
        ></a-entity>
        
  </a-entity>
  
  <a-entity id="mercury" position="0 0 0" rotation="0 0 0">
        
        <a-entity
          id="Merkury"
          position="0 0 0"
          scale="1 1 1"
          gltf-model="#mercury-model"
          planet= "a: 4.6; b: 6.9; timeToAroundSun: 0.241; hoursToRotate:1407; axialTilt: 0.034"
          class="clickable"
          description="info:W atmosferze wykryto także śladowe ilości wielu gazów m. in. argonu i kryptonu."
        ></a-entity>
        
  </a-entity>

  <a-entity id="venus" position="0 0 0" rotation="0 0 0">
        
        <a-entity
          id="Wenus"
          position="0 0 0"
          scale="1 1 1"
          gltf-model="#venus-model"
          planet= "a: 8.7476; b: 8.8941; timeToAroundSun: 0.615; hoursToRotate: -5832; axialTilt: 2.64"
          class="clickable"
          description="info: Astronomicznego symbolu Wenus używa się również do oznaczania płci żeńskiej: jest to koło z małym krzyżykiem poniżej. Symbol Wenus oznacza także kobiecość, a w zachodniej alchemii odpowiada miedzi. Polerowana miedź była w starożytności używana do tworzenia luster, a symbol bywał interpretowany jako lustro bogini."
        ></a-entity>
        
  </a-entity>
  
  <a-entity id="earth" position="0 0 0" rotation="0 0 0">
        
        <a-entity
          id="Ziemia"
          position="0 0 0"
          scale="1 1 1"
          gltf-model="#earth-model"
          planet= "a: 10.7098291; b: 11.2098233; hoursToRotate: 24; axialTilt: 23.43"
        ></a-entity>
        
  </a-entity>

  <a-entity id="mars" position="0 0 0" rotation="0 0 0">
        
        <a-entity
          id="Mars"
          position="0 0 0"
          scale="1 1 1"
          gltf-model="#mars-model"
          planet= "a: 14.662; b: 15.923; timeToAroundSun: 1.881; hoursToRotate: 24.5; axialTilt: 25.19"
          class="clickable"
          description="info:Amerykańska sonda kosmiczna Mars Reconnaissance Orbiter wykryła na powierzchni Marsa obecność szkła w kilku kraterach uderzeniowych. Szkło powstało podczas gwałtownych uderzeń meteorytów."
        ></a-entity>
        
  </a-entity>

  <a-entity id="jupiter" position="0 0 0" rotation="0 0 0">
        
        <a-entity
          id="Jowisz"
          position="0 0 0"
          scale="0.3 0.3 0.3"
          gltf-model="#jupiter-model"
          planet= "a: 23.052; b: 24.862; timeToAroundSun: 11.862; hoursToRotate: 10; axialTilt: 3.13"
          class="clickable"
          description="info:W 1610 włoski astronom Galileusz odkrył, za pomocą skonstruowanego przez siebie teleskopu, cztery największe księżyce Jowisza: Io, Europę, Ganimedesa i Kallisto – dziś zwane księżycami galileuszowymi. Odkrycie to uważane jest za pierwszą teleskopową obserwację księżyców innych niż ziemski. Obserwacja Galileusza była również pierwszym dowodem, że ruch ciał niebieskich nie odbywa się wyłącznie dookoła Ziemi."
        ></a-entity>
        
  </a-entity>

  <a-entity id="saturn" position="0 0 0" rotation="0 0 0">
        
        <a-entity
          id="Saturn"
          position="0 0 0"
          scale="0.3 0.3 0.3"
          gltf-model="#saturn-model"
          planet= "a: 35.655; b: 36.750; timeToAroundSun: 29.457; hoursToRotate: 11; axialTilt: 26.73"
          class="clickable"
          description="info:Jądro gazowego olbrzyma najprawdopodobniej składa się z żelaza, niklu, krzemu i tlenu."
        ></a-entity>
        
  </a-entity>

  <a-entity id="uranus" position="0 0 0" rotation="0 0 0">
        
        <a-entity
          id="Uran"
          position="0 0 0"
          scale="0.5 0.5 0.5"
          gltf-model="#uranus-model"
          planet= "a: 45.130; b: 48.362; timeToAroundSun: 84.011; hoursToRotate: -17; axialTilt: 82.23"
          class="clickable"
          description="info:Pierwsza planeta odkryta przy pomocy teleskopu."
        ></a-entity>
        
  </a-entity>

  <a-entity id="neptune" position="0 0 0" rotation="0 0 0">
        
        <a-entity
          id="Neptun"
          position="0 0 0"
          scale="0.5 0.5 0.5"
          gltf-model="#neptune-model"
          planet= "a: 55.225; b: 56.587; timeToAroundSun: 164.79; hoursToRotate: 16; axialTilt: 1.769"
          class="clickable"
          description="info:Absorpcja czerwonego światła przez metan znajdujący się w atmosferze nadaje Neptunowi niebieskawy odcień"
        ></a-entity>
        
  </a-entity>
  </a-entity>
  <!-- 360 panorama-->
  <a-sky src="#sky-image" material="" geometry="radius: 1000" scale="1 1 1" position="0 0 0" rotation="0 70 0" visible ="true" hide-on-enter-ar></a-sky>
    

  </a-scene>
    
  <div id ="overlay">
    <button id="toggle" class="toggle" dom-overlay>
      <i class="fa fa-bars fa-2x"></i>
    </button>

    <div id="info">
      <h2>OPCJE</h2>
        
        <p><b>Szybkość poruszania planet:</b></p>
        <input type="range" min="1" max="100" value="50" class="slider" id="myRange">
        <p>Jeden ziemski rok w przeciągu <span id="sliderValue"></span> sekund.</p>
        <!-- <button class="btn"><i class="fa fa-pause"></i> Pauza</button> przycisk pauzy -->
        <p><b>Ruch planet:</b></p>
        <label class="switch">
        <input type="checkbox" checked id="checkboxSwitch">
        <span class="sliderSwitch round"></span>
        </label>
      

      <p>
        Realizacja <a href="http://www.octopusvr.eu/">Octopus VR</a>.
      </p>

		<hr/>  
      
      <p>
        W celu wypróbowania trybu AR użyj kompatybilnego z <a href="https://developers.google.com/ar/discover/supported-devices">ARCore</a> 
        telefonu z systemem Android oraz przeglądarką Chrome v79+ i włącz <b>WebXR AR Module</b> w zakładce chrome://flags.
      </p>
      
    
    </div>
    </div>
  </body>
</html>
